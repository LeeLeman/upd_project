{% extends "base.html" %}

{% block title %}Edit Ticket for {{ ticket.name }}{% endblock %}

{% block content %}
<h1>Edit Ticket for {{ ticket.name }}</h1>
<form action="/events/{{ event_id }}/tickets/{{ ticket.id }}/edit" method="post">
    <div class="mb-3">
        <label for="name" class="form-label">Ticket Name</label>
        <input type="text" class="form-control" id="name" name="name" value="{{ ticket.name }}" required>
    </div>

    <div class="mb-3">
        <label for="date_start" class="form-label">Start Date</label>
        <input type="date" class="form-control" id="date_start" name="date_start" value="{{ ticket.date_start }}" required>
    </div>

    <div class="mb-3">
        <label for="time_start" class="form-label">Start Time</label>
        <input type="time" class="form-control" id="time_start" name="time_start" value="{{ ticket.time_start }}">
    </div>

    <div class="mb-3">
        <label for="available_tickets" class="form-label">Available Tickets</label>
        <input type="number" class="form-control" id="available_tickets" name="available_tickets" min="0" value="{{ ticket.available_tickets }}" required>
    </div>

    <div class="mb-3">
        <label for="cancellation_policy" class="form-label">Cancellation Policy</label>
        <select class="form-select" id="cancellation_policy" name="cancellation_policy" required>
            <option value="" disabled>Select Cancellation Policy</option>
            <option value="free_cancellation" {% if ticket.cancellation_policy == free_cancellation %}selected{% endif %}>Free Cancellation</option>
            <option value="no_cancellation" {% if ticket.cancellation_policy == no_cancellation %}selected{% endif %}>No Cancellation</option>
        </select>
    </div>

    <div class="mb-3">
        <label for="price" class="form-label">Price (USD)</label>
        <input type="number" class="form-control" id="price" name="price" value="{{ ticket.price }}" step="0.01" required>
    </div>

    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">Save Changes</button>
        <a href="/events/{{ event_id }}/tickets/{{ ticket.id }}" class="btn btn-secondary">Back to Ticket</a>
    </div>
</form>
{% endblock %}
