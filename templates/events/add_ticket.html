{% extends "base.html" %}

{% block title %}Add Ticket for {{ event.name }}{% endblock %}

{% block content %}
<h1>Add Ticket for {{ event.name }}</h1>
<form action="/events/{{ event.id }}/tickets/add" method="post">
    <div class="mb-3">
        <label for="name" class="form-label">Ticket Name</label>
        <input type="text" class="form-control" id="name" name="name" required>
    </div>

    <div class="mb-3">
        <label for="date_start" class="form-label">Start Date</label>
        <input type="date" class="form-control" id="date_start" name="date_start" required>
    </div>

    <div class="mb-3">
        <label for="time_start" class="form-label">Start Time</label>
        <input type="time" class="form-control" id="time_start" name="time_start">
    </div>

    <div class="mb-3">
        <label for="available_tickets" class="form-label">Available Tickets</label>
        <input type="number" class="form-control" id="available_tickets" name="available_tickets" min="0" required>
    </div>

    <div class="mb-3">
        <label for="cancellation_policy" class="form-label">Cancellation Policy</label>
        <select class="form-select" id="cancellation_policy" name="cancellation_policy" required>
            <option value="" disabled selected>Select Cancellation Policy</option>
            <option value="free_cancellation">Free Cancellation</option>
            <option value="no_cancellation">No Cancellation</option>
        </select>
    </div>

    <div class="mb-3">
        <label for="price" class="form-label">Price (USD)</label>
        <input type="number" class="form-control" id="price" name="price" step="0.01" min="0" required>
    </div>

    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">Add Ticket</button>
        <a href="/events/{{ event.id }}/tickets" class="btn btn-secondary">Back to Tickets</a>
    </div>
</form>

<script>
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('date_start').setAttribute('min', today);
</script>
{% endblock %}
